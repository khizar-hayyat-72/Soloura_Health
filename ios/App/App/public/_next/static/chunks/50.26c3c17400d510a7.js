"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50],{24050:(e,t,o)=>{o.r(t),o.d(t,{MoodCalendarGrid:()=>y});var d=o(37876),n=o(5686),a=o(1629),s=o(63473),r=o(57194),l=o(14232),i=o(44934),c=o(46907);let m=i.Kq,u=i.bL,h=i.l9,p=l.forwardRef((e,t)=>{let{className:o,sideOffset:n=4,...a}=e;return(0,d.jsx)(i.UC,{ref:t,sideOffset:n,className:(0,c.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...a})});p.displayName=i.UC.displayName;var x=o(90034);let f=e=>null===e?"bg-muted hover:bg-muted/80":e>=8?"bg-primary hover:bg-primary/90":e>=5?"bg-accent hover:bg-accent/90":"bg-[hsl(0,80%,92%)] hover:bg-[hsl(0,80%,90%)]",g=e=>null===e?"text-muted-foreground/80":e>=8?"text-primary-foreground":e>=5?"text-accent-foreground":"text-[hsl(0,60%,50%)]";function y(e){let{entries:t}=e,o=[],l=new Date,i={};[...t].sort((e,t)=>(0,n.H)(e.date).getTime()-(0,n.H)(t.date).getTime()).forEach(e=>{let t=(0,a.GP)((0,s.o)((0,n.H)(e.date)),"yyyy-MM-dd");i[t]||(i[t]={totalMood:0,count:0,contentSnippets:[],originalDate:(0,n.H)(e.date)}),i[t].totalMood+=e.moodRating,i[t].count+=1,i[t].contentSnippets.length<1&&i[t].contentSnippets.push(e.content.substring(0,50)+(e.content.length>50?"...":""))});for(let e=29;e>=0;e--){let t,d=(0,s.o)((0,r.e)(l,e)),n=i[(0,a.GP)(d,"yyyy-MM-dd")],c=null,m=0;n&&(m=n.count,c=parseFloat((n.totalMood/n.count).toFixed(1)),t=n.contentSnippets[0]),o.push({date:d,mood:c,dayOfMonth:(0,a.GP)(d,"d"),entryCount:m,contentSnippet:t})}return(0,d.jsxs)(x.Zp,{className:"shadow-lg w-full",children:[(0,d.jsxs)(x.aR,{children:[(0,d.jsx)(x.ZB,{className:"font-headline",children:"Recent Moods"}),(0,d.jsx)(x.BT,{children:"A visual overview of your mood. Hover over a square for details."})]}),(0,d.jsx)(x.Wu,{children:o.length>0?(0,d.jsx)("div",{className:"max-w-[16rem] mx-auto",children:(0,d.jsx)(m,{delayDuration:100,children:(0,d.jsx)("div",{className:"grid grid-cols-6 gap-px",children:o.map((e,t)=>(0,d.jsxs)(u,{children:[(0,d.jsx)(h,{asChild:!0,children:(0,d.jsx)("div",{className:(0,c.cn)("aspect-square rounded-sm flex items-center justify-center text-[9px] sm:text-[10px] font-medium transition-colors cursor-default",f(e.mood),g(e.mood)),children:e.dayOfMonth})}),(0,d.jsxs)(p,{children:[(0,d.jsx)("p",{className:"font-semibold",children:(0,a.GP)(e.date,"MMMM d, yyyy")}),null!==e.mood?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("p",{children:[e.entryCount>1?"Avg. Mood: ":"Mood: ",e.mood,"/10",e.entryCount>1&&" (".concat(e.entryCount," entries)")]}),e.contentSnippet&&(0,d.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:(0,d.jsx)("em",{children:'"'.concat(e.contentSnippet,'"')})})]}):(0,d.jsx)("p",{children:"No entry"})]})]},t))})})}):(0,d.jsx)("p",{className:"text-muted-foreground text-center py-4",children:"No mood data available for the last 30 days."})})]})}}}]);
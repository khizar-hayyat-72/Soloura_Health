(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{18305:(e,s,a)=>{"use strict";a.d(s,{E:()=>l});var t=a(37876),r=a(46907);function l(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",s),...a})}},57480:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>E});var t=a(37876),r=a(48230),l=a.n(r),n=a(18847),i=a.n(n),d=a(42740),o=a(5747),c=a(72636),h=a(90034),m=a(49105),x=a(34855),u=a(38684);let p=(0,u.A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);var j=a(62757),y=a(33193);let f=(0,u.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var g=a(14232),w=a(109),N=a(31928),b=a(18305),v=a(51569);let k=i()(()=>Promise.all([a.e(210),a.e(934),a.e(50)]).then(a.bind(a,24050)).then(e=>e.MoodCalendarGrid),{loadableGenerated:{webpack:()=>[24050]},ssr:!1,loading:()=>(0,t.jsx)(b.E,{className:"h-[200px] w-full rounded-lg"})});function E(){let{user:e,logout:s}=(0,m.A)(),{toast:a}=(0,N.dj)(),[r,n]=(0,g.useState)(null),[i,u]=(0,g.useState)(0),[b,E]=(0,g.useState)([]),[A,_]=(0,g.useState)(!0),C=(0,g.useCallback)(async()=>{if(e){_(!0);try{var s;let[a,t,r]=await Promise.all([(0,w.pd)(e.id),(0,w.XG)(e.id),(0,w.ib)(e.id,35)]);n(null!=(s=null==a?void 0:a.moodRating)?s:null),u(t),E(r)}catch(e){console.error("Failed to fetch dashboard data:",e),a({title:"Error",description:"Could not load dashboard data.",variant:"destructive"})}finally{_(!1)}}else n(null),u(0),E([]),_(!1)},[e,a]);return((0,g.useEffect)(()=>{C()},[C]),A&&e)?(0,t.jsxs)(o.L,{className:"flex flex-col items-center justify-center min-h-[calc(100vh-200px)]",children:[(0,t.jsx)(x.A,{className:"h-12 w-12 animate-spin text-primary mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading your dashboard..."})]}):(0,t.jsx)(v.q,{children:(0,t.jsxs)(o.L,{children:[(0,t.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,t.jsxs)(c.s,{children:[(()=>{let e=new Date().getHours();return e<12?"Good Morning":e<18?"Good Afternoon":"Good Evening"})(),", ",(null==e?void 0:e.name)||"User","!"]}),(0,t.jsx)(d.$,{variant:"outline",className:"bg-destructive text-white hover:bg-destructive/90",onClick:s,children:"Logout"})]}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground mb-8",children:"Ready to reflect and grow today? Your mental wellbeing journey continues here."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(0,t.jsxs)(h.Zp,{className:"hover:shadow-lg transition-shadow duration-300",children:[(0,t.jsxs)(h.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(h.ZB,{className:"text-sm font-medium text-primary",children:"New Journal Entry"}),(0,t.jsx)(p,{className:"h-5 w-5 text-primary"})]}),(0,t.jsxs)(h.Wu,{children:[(0,t.jsx)(h.BT,{className:"mb-4",children:"Capture your thoughts and feelings."}),(0,t.jsx)(d.$,{asChild:!0,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:(0,t.jsx)(l(),{href:"/journal/new",children:"Write in Journal"})})]})]}),(0,t.jsxs)(h.Zp,{className:"hover:shadow-lg transition-shadow duration-300",children:[(0,t.jsxs)(h.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(h.ZB,{className:"text-sm font-medium text-accent",children:"Latest Mood"}),(0,t.jsx)(j.A,{className:"h-5 w-5 text-accent"})]}),(0,t.jsxs)(h.Wu,{children:[null!==r?(0,t.jsxs)("div",{className:"text-2xl font-bold text-accent",children:[r,"/10"]}):(0,t.jsx)("p",{className:"text-muted-foreground",children:"No mood recorded yet."}),(0,t.jsx)(h.BT,{className:"mt-1",children:"Your most recent mood rating."})]})]}),(0,t.jsxs)(h.Zp,{className:"hover:shadow-lg transition-shadow duration-300",children:[(0,t.jsxs)(h.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(h.ZB,{className:"text-sm font-medium text-primary",children:"Journal Entries"}),(0,t.jsx)(y.A,{className:"h-5 w-5 text-primary"})]}),(0,t.jsxs)(h.Wu,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-primary",children:i}),(0,t.jsx)(h.BT,{className:"mt-1",children:"Total entries written."})]})]}),e&&!A&&(0,t.jsx)("div",{className:"md:col-span-2 lg:col-span-3",children:(0,t.jsx)(k,{entries:b})})]}),(0,t.jsx)(h.Zp,{className:"bg-gradient-to-r from-primary/20 to-accent/20 p-6 rounded-lg shadow-lg",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-6",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"80",height:"80",viewBox:"0 0 24 24",fill:"none",stroke:"hsl(var(--primary))",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M12 2a10 10 0 1 0 10 10H12V2z"}),(0,t.jsx)("path",{d:"M12 12a10 10 0 0 0-7.07 2.93A9.96 9.96 0 0 0 12 22a10 10 0 0 0 10-10h-10z"})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-headline font-semibold text-primary mb-2",children:"Explore Your Wellbeing Tools"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"Dive into your mood trends or chat with our wellness AI for personalized tips and meditation guidance."}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)(d.$,{asChild:!0,variant:"outline",className:"border-primary text-primary hover:bg-primary/10",children:(0,t.jsxs)(l(),{href:"/mood-tracker",children:[(0,t.jsx)(f,{className:"mr-2 h-4 w-4"}),"View Mood Trends"]})}),(0,t.jsx)(d.$,{asChild:!0,variant:"outline",className:"border-accent text-accent hover:bg-accent/10",children:(0,t.jsxs)(l(),{href:"/chatbot",children:[(0,t.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Chat for Tips"]})})]})]})]})})]})})}},62757:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(38684).A)("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]])},67721:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return a(57480)}])}},e=>{var s=s=>e(e.s=s);e.O(0,[671,389,679,749,230,769,471,636,593,792],()=>s(67721)),_N_E=e.O()}]);
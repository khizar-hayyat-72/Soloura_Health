(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[77],{5747:(e,r,s)=>{"use strict";s.d(r,{L:()=>l});var t=s(37876),a=s(46907);function l(e){let{children:r,className:s}=e;return(0,t.jsx)("div",{className:(0,a.cn)("container mx-auto px-4 py-8 sm:px-6 lg:px-8",s),children:r})}},5885:(e,r,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/chatbot",function(){return s(23143)}])},20959:(e,r,s)=>{"use strict";s.d(r,{A:()=>i});var t=s(37876),a=s(14232),l=s(85050),n=s(46907);let i=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsxs)(l.bL,{ref:r,className:(0,n.cn)("relative flex w-full touch-none select-none items-center",s),...a,children:[(0,t.jsx)(l.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,t.jsx)(l.Q6,{className:"absolute h-full bg-primary"})}),(0,t.jsx)(l.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});i.displayName=l.bL.displayName},23143:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>N});var t=s(37876),a=s(14232),l=s(88992),n=s(13810),i=s(60513),o=s(5747),d=s(72636),c=s(42740),u=s(63474),h=s(20959),m=s(94890),x=s(90034),p=s(38684);let f=(0,p.A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);var g=s(34855);let b=(0,p.A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),j=(0,p.A)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var y=s(31928),w=s(51569);let v=i.Ik({currentMood:i.ai().min(1).max(10),currentThoughts:i.Yj().min(5,{message:"Please share a few thoughts (at least 5 characters)."}).max(500,{message:"Thoughts should be under 500 characters."})});function N(){let{toast:e}=(0,y.dj)(),[r,s]=(0,a.useState)(null),[i,p]=(0,a.useState)(!1),[N,k]=(0,a.useState)(5),T=(0,l.mN)({resolver:(0,n.u)(v),defaultValues:{currentMood:5,currentThoughts:""}}),A=async r=>{p(!0),s(null);try{let t=await fetch("/api/get-wellbeing-tips",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await t.json();if(!t.ok)throw Error(a.error||"Unknown error");s(a),e({title:"Tips Received!",description:"Here are some personalized tips for you."})}catch(r){console.error("Failed to fetch tips:",r),e({title:"Error",description:"Could not fetch wellbeing tips. Please try again.",variant:"destructive"})}finally{p(!1)}};return(0,t.jsx)(w.q,{children:(0,t.jsxs)(o.L,{children:[(0,t.jsx)(d.s,{children:"Personalized Wellness Chat"}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground mb-8",children:"Share your current mood and thoughts to receive tailored meditation and wellbeing tips from our AI."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)(x.Zp,{className:"shadow-lg",children:[(0,t.jsxs)(x.aR,{children:[(0,t.jsxs)(x.ZB,{className:"font-headline flex items-center",children:[(0,t.jsx)(f,{className:"mr-2 h-5 w-5 text-primary"}),"How are you feeling?"]}),(0,t.jsx)(x.BT,{children:"Let us know your current state to get started."})]}),(0,t.jsx)(x.Wu,{children:(0,t.jsx)(m.lV,{...T,children:(0,t.jsxs)("form",{onSubmit:T.handleSubmit(A),className:"space-y-6",children:[(0,t.jsx)(m.zB,{control:T.control,name:"currentMood",render:e=>{let{field:r}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsxs)(m.lR,{children:["Your Current Mood: ",N,"/10"]}),(0,t.jsx)(m.MJ,{children:(0,t.jsx)(h.A,{defaultValue:[r.value],max:10,min:1,step:1,onValueChange:e=>{r.onChange(e[0]),k(e[0])},className:"my-2","aria-label":"Current mood slider"})}),(0,t.jsx)(m.Rr,{children:"1 (Low) - 10 (Great)"}),(0,t.jsx)(m.C5,{})]})}}),(0,t.jsx)(m.zB,{control:T.control,name:"currentThoughts",render:e=>{let{field:r}=e;return(0,t.jsxs)(m.eI,{children:[(0,t.jsx)(m.lR,{children:"Briefly, what's on your mind?"}),(0,t.jsx)(m.MJ,{children:(0,t.jsx)(u.T,{placeholder:"e.g., Feeling a bit stressed about work today.",className:"resize-none min-h-[100px]",...r})}),(0,t.jsx)(m.Rr,{children:"A few words or sentences will do."}),(0,t.jsx)(m.C5,{})]})}}),(0,t.jsxs)(c.$,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",disabled:i,children:[i?(0,t.jsx)(g.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(b,{className:"mr-2 h-4 w-4"}),"Get Personalized Tips"]})]})})})]}),(0,t.jsxs)(x.Zp,{className:"shadow-lg transition-opacity duration-500 ".concat(r?"opacity-100":"opacity-50"),children:[(0,t.jsxs)(x.aR,{children:[(0,t.jsxs)(x.ZB,{className:"font-headline flex items-center",children:[(0,t.jsx)(j,{className:"mr-2 h-5 w-5 text-accent"}),"Your AI-Powered Tips"]}),(0,t.jsx)(x.BT,{children:"Here are some suggestions based on what you shared."})]}),(0,t.jsxs)(x.Wu,{className:"min-h-[200px] flex items-center justify-center",children:[i&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(g.A,{className:"h-8 w-8 animate-spin text-accent mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Generating your tips..."})]}),!i&&r&&(0,t.jsx)("div",{className:"text-sm text-foreground whitespace-pre-wrap p-4 bg-accent/10 rounded-md border border-accent/20",children:r.wellbeingTips}),!i&&!r&&(0,t.jsx)("p",{className:"text-muted-foreground",children:"Your personalized tips will appear here once generated."})]})]})]})]})})}},51569:(e,r,s)=>{"use strict";s.d(r,{q:()=>i});var t=s(37876),a=s(14232),l=s(14e3),n=s(49105);let i=e=>{let{children:r}=e,{user:s,isLoading:i}=(0,n.A)(),o=(0,l.useRouter)();return((0,a.useEffect)(()=>{i||s||o.replace("/login")},[s,i,o]),i||!s)?null:(0,t.jsx)(t.Fragment,{children:r})}},63474:(e,r,s)=>{"use strict";s.d(r,{T:()=>n});var t=s(37876),a=s(14232),l=s(46907);let n=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...a})});n.displayName="Textarea"},72636:(e,r,s)=>{"use strict";s.d(r,{s:()=>l});var t=s(37876),a=s(46907);function l(e){let{children:r,className:s}=e;return(0,t.jsx)("h1",{className:(0,a.cn)("text-2xl sm:text-3xl font-headline font-bold text-primary mb-6",s),children:r})}}},e=>{var r=r=>e(e.s=r);e.O(0,[671,389,679,749,687,669,873,636,593,792],()=>r(5885)),_N_E=e.O()}]);
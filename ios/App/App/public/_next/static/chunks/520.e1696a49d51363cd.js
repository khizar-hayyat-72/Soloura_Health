"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{90034:(e,t,r)=>{r.d(t,{BT:()=>i,Wu:()=>c,ZB:()=>d,Zp:()=>s,aR:()=>l,wL:()=>m});var a=r(37876),o=r(14232),n=r(46907);let s=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...o})});s.displayName="Card";let l=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...o})});l.displayName="CardHeader";let d=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...o})});d.displayName="CardTitle";let i=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...o})});i.displayName="CardDescription";let c=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...o})});c.displayName="CardContent";let m=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...o})});m.displayName="CardFooter"},98520:(e,t,r)=>{r.r(t),r.d(t,{MoodChart:()=>g});var a=r(37876),o=r(64085),n=r(26589),s=r(84211),l=r(4356),d=r(44247),i=r(90922),c=r(66512),m=r(66343),u=r(90034),h=r(5686),f=r(1629),p=r(63473);let x={mood:{label:"Mood Rating",color:"hsl(var(--primary))"}};function g(e){let{data:t}=e,r=(()=>{if(!t||0===t.length)return[];let e={};return t.forEach(t=>{let r=(0,h.H)(t.date),a=(0,f.GP)((0,p.o)(r),"yyyy-MM-dd");e[a]||(e[a]={totalMood:0,count:0,contentSnippets:[],originalDate:r}),e[a].totalMood+=t.moodRating,e[a].count+=1,0===e[a].contentSnippets.length&&e[a].contentSnippets.push(t.content.substring(0,50)+(t.content.length>50?"...":""))}),Object.keys(e).map(t=>{let r=e[t],a=parseFloat((r.totalMood/r.count).toFixed(1));return{date:(0,f.GP)(r.originalDate,"MMM d"),mood:a,fullDate:(0,f.GP)(r.originalDate,"MMMM d, yyyy"),entryCount:r.count,contentSnippet:r.contentSnippets[0]||""}}).sort((e,t)=>(0,h.H)(e.fullDate).getTime()-(0,h.H)(t.fullDate).getTime())})();return 0===r.length?(0,a.jsxs)(u.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(u.aR,{children:[(0,a.jsx)(u.ZB,{className:"font-headline",children:"Mood Trends (Last 7 Days)"}),(0,a.jsx)(u.BT,{children:"Your mood ratings over time will appear here."})]}),(0,a.jsx)(u.Wu,{className:"flex items-center justify-center h-64",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No mood data available for the last 7 days."})})]}):(0,a.jsxs)(u.Zp,{className:"shadow-lg",children:[(0,a.jsxs)(u.aR,{children:[(0,a.jsx)(u.ZB,{className:"font-headline",children:"Mood Trends (Last 7 Days)"}),(0,a.jsx)(u.BT,{children:"Visualizing your mood ratings over the last 7 days. Hover over bars for details."})]}),(0,a.jsx)(u.Wu,{children:(0,a.jsx)(o.u,{width:"100%",height:300,children:(0,a.jsxs)(n.E,{data:r,margin:{top:5,right:20,left:-20,bottom:5},children:[(0,a.jsx)(s.d,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),(0,a.jsx)(l.W,{dataKey:"date",tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickLine:{stroke:"hsl(var(--border))"}}),(0,a.jsx)(d.h,{domain:[0,10],ticks:[0,2,4,6,8,10],tick:{fill:"hsl(var(--muted-foreground))",fontSize:12},tickLine:{stroke:"hsl(var(--border))"}}),(0,a.jsx)(i.m,{content:(0,a.jsx)(e=>{let{active:t,payload:r,label:o}=e;if(t&&r&&r.length){let e=r[0].payload;return(0,a.jsxs)("div",{className:"bg-background p-3 border border-border rounded-lg shadow-lg",children:[(0,a.jsx)("p",{className:"font-semibold text-primary",children:"Date: ".concat(e.fullDate)}),(0,a.jsxs)("p",{className:"text-sm text-foreground",children:[e.entryCount>1?"Avg. Mood: ":"Mood: ",e.mood,"/10",e.entryCount>1&&" (".concat(e.entryCount," entries)")]}),1===e.entryCount&&e.contentSnippet&&(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:(0,a.jsx)("em",{children:'"'.concat(e.contentSnippet,'"')})})]})}return null},{}),cursor:{fill:"hsl(var(--accent) / 0.2)"}}),(0,a.jsx)(c.s,{wrapperStyle:{fontSize:"14px",paddingTop:"10px"},formatter:e=>(0,a.jsx)("span",{className:"text-muted-foreground",children:e})}),(0,a.jsx)(m.y,{dataKey:"mood",fill:x.mood.color,radius:[4,4,0,0],barSize:Math.min(30,300/Math.max(r.length,1))})]})})})]})}}}]);